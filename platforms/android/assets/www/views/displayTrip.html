<ion-view title="Détail du trajet">
  <ion-content>
	  <div class="card">
		  <div class="item item-divider">
		    Départ pour {{trip.direction}}
		  </div>
		  <a class="item item-avatar" ui-sref="tabs.user({id: trip.user_id})">
		    <img ng-src="{{trip.picture}}">
		    <h2>Voiture de {{trip.username}}</h2>
		    <p>{{trip.seats}} places proposées</p>
		  </a>
		</div>

		<div class="card">
		  <div class="item item-divider">
		    Inscrits à cette voiture
		  </div>
		  <li class="item slide-in-right" ng-show="participants.length === 0">
		  	Personne n'a demandé à participer à ce voyage
		  </li>
		  <a class="item item-avatar slide-in-left" ng-repeat="participant in participants" ng-show="participants.length > 0" ui-sref="tabs.user({id: participant.id})">
	      <img ng-src="{{participant.picture}}">
	      <h2>{{participant.username}} est inscrit</h2>
	      <p ng-show="($index+1) <= trip.seats">Inscrit</p>
	      <p ng-show="($index+1) > trip.seats">Sur liste d'attente</p>
	      <span class="badge badge-balanced" ng-show="($index+1) <= trip.seats"><i class="ion-checkmark-round"></i></span>
	      <span class="badge badge-energized" ng-show="($index+1) > trip.seats"><i class="ion-help"></i></span>
	    </a>
		</div>

		<div class="padding" ng-show="trip.user_id != user_id">
			<button class="button button-block button-positive" ng-click="participate()">
		  	{{button_text}}
			</button>
		</div>
  </ion-content>
</ion-view>